# 勤怠管理システム

外部オフィスにいる従業員1名の出退勤管理を行うWebアプリケーションです。

## 機能

### 認証システム
- **パスワード認証**: システムアクセスにパスワードが必要
- **セッション管理**: 24時間有効なセッション
- **自動リダイレクト**: 未認証ユーザーは自動的にログインページへ
- **ログアウト機能**: セキュアなログアウト

### 従業員向け機能
- **出勤打刻**: 出社時刻の記録
- **退勤打刻**: 退社時刻の記録
- **休憩開始打刻**: 離席時刻の記録
- **休憩終了打刻**: 戻り時刻の記録
- **リアルタイム時計表示**: 現在時刻の表示
- **今日の記録表示**: 当日の打刻履歴の確認

### 管理者向け機能
- **勤怠記録一覧**: 全期間の勤怠記録の閲覧
- **統計情報表示**: 出勤回数、退勤回数などの統計
- **Excel出力**: 勤怠記録のExcelファイル出力
- **日付別表示**: 日付ごとにグループ化された記録表示

## 技術スタック

- **フロントエンド**: Next.js 14, React 18, TypeScript
- **スタイリング**: Tailwind CSS
- **データ保存**: JSON ファイル（ローカル）/ Excel 出力
- **デプロイ**: Vercel

## セットアップ

### 1. 依存関係のインストール

```bash
npm install
```

### 2. 環境変数の設定（オプション）

```bash
# .env.local ファイルを作成（パスワードを変更したい場合）
ADMIN_PASSWORD=your_secure_password
```

### 3. 開発サーバーの起動

```bash
npm run dev
```

### 4. ログイン

ブラウザで [http://localhost:3000](http://localhost:3000) を開くと、自動的にログインページにリダイレクトされます。

- **デフォルトパスワード**: `admin123`
- ログイン後、勤怠管理システムのメインページにアクセスできます

### 5. ビルド

```bash
npm run build
```

### 6. 本番環境での起動

```bash
npm start
```

## デプロイ

### Vercelでのデプロイ

1. [Vercel](https://vercel.com)にアカウントを作成
2. GitHubリポジトリをVercelに接続
3. 自動デプロイが開始されます

### 手動デプロイ

```bash
# Vercel CLIをインストール
npm i -g vercel

# デプロイ
vercel
```

## 使用方法

### ログイン

1. アプリケーションにアクセス（自動的にログインページにリダイレクト）
2. パスワード `admin123` を入力
3. 「ログイン」ボタンをクリック

### 従業員の打刻

1. メインページ（`/`）で現在時刻を確認
2. 適切なボタンをクリックして打刻
   - **出勤**: 出社時
   - **退勤**: 退社時
   - **休憩開始**: 休憩開始時
   - **休憩終了**: 休憩終了時
3. 右上の「ログアウト」ボタンでログアウト

### 管理者の閲覧

1. 管理者ページ（`/admin`）にアクセス
2. 統計情報と勤怠記録を確認
3. 必要に応じてExcelファイルをダウンロード

## データ保存

- データは `data/attendance.json` ファイルに保存されます
- 各記録には以下の情報が含まれます：
  - ID（一意識別子）
  - 打刻タイプ（出勤/退勤/休憩開始/休憩終了）
  - タイムスタンプ（ISO形式）
  - 日付（YYYY-MM-DD形式）

## ファイル構成

```
clock_inout/
├── app/
│   ├── layout.tsx          # 共通レイアウト
│   ├── page.tsx            # 従業員用打刻ページ
│   ├── admin/
│   │   └── page.tsx        # 管理者用閲覧ページ
│   ├── api/
│   │   └── attendance/     # API ルート
│   └── globals.css         # グローバルスタイル
├── components/
│   ├── PunchButton.tsx     # 打刻ボタンコンポーネント
│   ├── AdminTable.tsx      # 管理者用テーブル
│   └── ExportButton.tsx    # Excel出力ボタン
├── lib/
│   └── storage.ts          # データ保存・取得機能
├── data/                   # データ保存ディレクトリ
└── package.json
```

## ドキュメント

- **[認証システム詳細](docs/AUTH_SYSTEM.md)**: 認証システムの詳細な説明
- **[クイックスタート](QUICK_START.md)**: すぐに始めるためのガイド

## 今後の拡張予定

- [x] ユーザー認証機能
- [ ] 複数従業員対応
- [ ] Google Sheets連携
- [ ] 勤務時間自動計算
- [ ] モバイル対応の改善
- [ ] 打刻の重複チェック機能

## ライセンス

MIT License

## サポート

問題や質問がある場合は、GitHubのIssuesページでお知らせください。

